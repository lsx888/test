<!DOCTYPE HTML>
<!-- saved from url=(0076)http://172.13.19.31:6060/note_html/服务器/CentOS/10901-软件安装-rpm工具.html -->
<!DOCTYPE html PUBLIC "" ""><HTML><HEAD><META content="IE=11.0000" 
http-equiv="X-UA-Compatible">
 
<META http-equiv="Content-Type" content="text/html; charset=UTF-8"> 
<TITLE>软件安装-rpm工具</TITLE> <LINK href="软件安装-rpm工具_files/standalone.css" rel="stylesheet"> 
<LINK href="软件安装-rpm工具_files/overlay-apple.css" rel="stylesheet"> <LINK href="软件安装-rpm工具_files/article_edit.css" 
rel="stylesheet"> 
<STYLE type="text/css">
	#content{
		margin: 5px 10px;
	}
</STYLE>
	 <!-- 代码高亮 -->	 <LINK href="软件安装-rpm工具_files/shCoreEclipse.css" rel="stylesheet">
	 <LINK href="软件安装-rpm工具_files/my-highlighter.css" rel="stylesheet"> 
<META name="GENERATOR" content="MSHTML 11.00.10586.545"></HEAD> 
<BODY>
<DIV id="content">
<H1 align="center">软件安装-rpm工具</H1>
<P align="right" 
style="margin: 0px 10px 0px 0px; padding: 0px;">最后修改时间：2015-08-25 17:02:41</P>
<HR style="border-width: 2px; border-color: lime;">

<H3>简介</H3>
<P style="text-indent: 0.8cm;">
在windows下安装一个软件很轻松，只要双击.exe的文件，安装提示连续“下一步”即可，然而linux系统下安装一个软件似乎并不那么轻松了，因为我们不是在图形界面下。所以你要学会如何在linux下安装一个软件。
 在前面的内容中多次提到的yum，这个yum是Redhat所特有的安装RPM程序包的工具，使用起来相当方便。因为使用RPM安装某一个程序包有可能会因为该程序包依赖另一个程序包而无法安装。而使用yum工具就可以连同依赖的程序包一起安装。当然CentOS同样可以使用yum工具，而且在CentOS中你可以免费使用yum，但Redhat中只有当你付费后才能使用yum，默认是无法使用yum的。在介绍yum之前先说一说RPM相关的东西。 
</P>
<P style="text-indent: 0.8cm;">RPM是”Redhat Package 
Manager”的缩写，根据名字也能猜到这是Redhat公司开发出来的。RPM 是以一种数据库记录的方式来将你所需要的套件安装到你的Linux 
主机的一套管理程序。也就是说，你的linux系统中存在着一个关于RPM的数据库，它记录了安装的包以及包与包之间依赖相关性。RPM包是预先在linux机器上编译好并打包好的文件，安装起来非常快捷。但是也有一些缺点，比如安装的环境必须与编译时的环境一致或者相当；包与包之间存在着相互依赖的情况；卸载包时需要先把依赖的包卸载掉，如果依赖的包是系统所必须的，那就不能卸载这个包，否则会造成系统崩溃。 
</P>
<DIV>
<DIV align="left"><FONT>如果你的光驱中还有系统安装盘的话，你可以通过”mount /dev/cdrom 
/mnt”命令把光驱挂载到/mnt目录下，那么你会在/mnt/CentOS目录下看到很多.rpm的文件，这就是RPM包了</FONT></DIV>
<DIV align="left"><IMG alt="图片不存在" src="软件安装-rpm工具_files/20150825-01.png"></DIV>
<DIV align="left"><FONT>每一个rpm包的名称都由”-“和”.”分成了若干部分。就拿 
a2ps-4.13b-57.2.el5.i386.rpm 这个包来解释一下，<SPAN style="color: rgb(255, 0, 0);">a2ps 
为包名；4.13b则为版本信息；57.2.el5为发布版本号；i386为运行平台</SPAN>。其中运行平台常见的有i386, i586, i686, 
x86_64 
，需要你注意的是cpu目前是分32位和64位的，i386,i586和i686都为32位平台，x86_64则代表为64位的平台。另外有些rpm包并没有写具体的平台而是noarch，这代表这个rpm包没有硬件平台限制。例如 
alacarte-0.10.0-1.fc6.noarch.rpm 。下面介绍一下rpm常用的命令。</FONT></DIV></DIV>
<H3>rpm安装命令</H3>
<H4>安装一个rpm包</H4>
<DIV>
<DIV align="left"><IMG alt="图片不存在" 
src="软件安装-rpm工具_files/20150825-02.png"></DIV></DIV>
<UL>
  <LI>-i ：安装的意思</LI>
  <LI>-v ：可视化</LI>
  <LI>-h ：显示安装进度</LI>
  <LI>另外在安装一个rpm包时常用的附带参数有：   
  <UL>
    <LI>--force 强制安装，即使覆盖属于其他包的文件也要安装</LI>
    <LI>--nodeps 当要安装的rpm包依赖其他包时，即使其他包没有安装，也要安装这个包</LI></UL></LI></UL>
<H4>升级一个rpm包</H4>
<P style="text-indent: 0.8cm;">rpm -Uvh filename </P>
<P style="text-indent: 0.8cm;">-U ：即升级的意思 </P>
<H4>卸载一个rpm包</H4>
<DIV>
<DIV align="left"><FONT>rpm -e filename 
这里的filename是通过rpm的查询功能所查询到的，稍后会作介绍。</FONT></DIV>
<DIV align="left"><IMG alt="图片不存在" src="软件安装-rpm工具_files/20150825-03.png"></DIV>
<DIV align="left"><FONT>卸载时后边跟的filename和安装时的是有区别的。上面命令提到的 
“|”在linux系统中用的非常多也非常有用，它是一个管道符，用来把前面运行的结果传递给后面的命令</FONT></DIV></DIV>
<H4>查询一个包是否安装</H4>
<DIV>
<DIV align="left"><FONT>rpm -q rpm包名（这里的包名，是不带有平台信息以及后缀名的）</FONT></DIV>
<DIV align="left"><IMG alt="图片不存在" 
src="软件安装-rpm工具_files/20150825-04.png"></DIV></DIV>
<DIV>
<DIV 
align="left"><FONT>如果加上了平台信息以及后缀名反而不能查出来。你还可以查询当前系统中所安装的所有rpm包。</FONT></DIV>
<DIV align="left"><IMG alt="图片不存在" 
src="软件安装-rpm工具_files/20150825-05.png"></DIV></DIV>
<H4>得到一个rpm包的相关信息</H4>
<DIV>
<DIV align="left"><FONT>rpm -qi 包名 （同样不需要加平台信息与后缀名）</FONT></DIV>
<DIV align="left"><IMG alt="图片不存在" 
src="软件安装-rpm工具_files/20150825-06.png"></DIV></DIV>
<H4>列出一个rpm包安装的文件</H4>
<DIV>
<DIV align="left"><FONT>rpm -ql 包名</FONT></DIV>
<DIV align="left"><IMG alt="图片不存在" src="软件安装-rpm工具_files/20150825-07.png"></DIV>
<DIV 
align="left"><FONT>通过上面的命令可以看出vim是通过安装vim-enhanced-7.0.109-6.el5这个rpm包得来的。那么反过来如何通过一个文件去查找是由安装哪个rpm包得来的？</FONT></DIV></DIV>
<H4>列出某一个文件属于哪个rpm包</H4>
<DIV>
<DIV align="left"><FONT>rpm -qf 文件的绝对路径</FONT></DIV>
<DIV align="left"><IMG alt="图片不存在" src="软件安装-rpm工具_files/20150825-08.png"></DIV>
<DIV align="left"><FONT>前面讲过如何查找一个文件（可执行命令）的绝对路径</FONT></DIV>
<DIV align="left"><IMG alt="图片不存在" src="软件安装-rpm工具_files/20150825-09.png"></DIV>
<DIV align="left"><FONT>所以你也可以把这两条命令连起来写</FONT></DIV>
<DIV align="left"><IMG alt="图片不存在" src="软件安装-rpm工具_files/20150825-10.png"></DIV>
<DIV align="left"><FONT>which vim 
这条命令是由两个反引号引起来的，这代表引用反引号里面的命令所产生的结果。关于rpm工具的使用还有很多内容，这里就不一一列举了，只要你掌握上面这些内容，完全够你平时工作用的了</FONT></DIV></DIV>
<HR style="border-width: 2px; border-color: lime;">

<DIV align="center">©copyright 2013 ~ 2015 作者：zzy</DIV>
<SCRIPT src="../../pub/syntaxhighlighter/scripts/shCore.js" type="text/javascript"></SCRIPT>
 
<SCRIPT src="../../pub/syntaxhighlighter/scripts/shBrushJava.js" type="text/javascript"></SCRIPT>
	
<SCRIPT src="../../pub/syntaxhighlighter/scripts/shBrushJScript.js" type="text/javascript"></SCRIPT>
 
<SCRIPT src="../../pub/syntaxhighlighter/scripts/shBrushXml.js" type="text/javascript"></SCRIPT>
 
<SCRIPT src="../../pub/syntaxhighlighter/scripts/shBrushSql.js" type="text/javascript"></SCRIPT>
 
<SCRIPT src="../../pub/syntaxhighlighter/scripts/shBrushBash.js" type="text/javascript"></SCRIPT>
	
<SCRIPT src="../../pub/syntaxhighlighter/init.js" type="text/javascript"></SCRIPT>
 
<SCRIPT src="../../pub/js/jquery.tools.min.js" type="text/javascript"></SCRIPT>
 <!-- make all links with the 'rel' attribute open overlays --> 
<SCRIPT>
  $(function() {
      $("#apple img[rel]").overlay({effect: 'apple'});
    });
</SCRIPT>
 </DIV></BODY></HTML>
